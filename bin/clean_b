#!/bin/bash

err_echo() {
    echo "$@" >&2
}

usage() {
    err_echo "Usage: $0 [options]"
    err_echo ""
    err_echo "Options:"
    err_echo "  -b, --binaries  Clean all executatble files in current directory."
    err_echo "  -s, --sample    Clean all samples (.in/.out) in current directory."
    exit 1
}

while [[ $# -gt 0 && $1 == -* ]]; do
	case "$1" in
	-b | --binaries)
		for exe in *; do
			if [[ -f "$exe" && -x "$exe" ]]; then
				rm -f "$exe"
			fi
		done
		shift
		;;
	-s | --samples)
        rm -f *.in *.out
		shift
		;;
	*)
		err_echo "Error: Unknown option '$1'!"
		usage
		;;
	esac
done
