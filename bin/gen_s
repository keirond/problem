#!/bin/bash

if [[ -z "$1" ]]; then
	echo "Usage: gen <testcase name>" >&2
	exit 1
fi

filename="$1"

if [[ -f "$filename.in" || -f "$filename.out" ]]; then
	read -r -p "$filename.in or $filename.out already exists. Do you want to overwrite them? (y/n): " choice
	case "$choice" in
	y | Y)
		echo "Overwriting $filename.in and $filename.out"
		rm -f "$filename.in" "$filename.out"
		touch "$filename.in" "$filename.out"
		subl "$filename.in" "$filename.out"
		;;
	n | N)
		echo "Keeping existing $filename.in and $filename.out"
		subl "$filename.in" "$filename.out"
		;;
	*)
		echo "Invalid option. Exiting."
		exit 1
		;;
	esac
else
	touch "$filename.in"
	touch "$filename.out"
	subl "$filename.in" "$filename.out"
fi
